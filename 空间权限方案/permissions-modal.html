<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>有效权限详情 (示例)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; }
    </style>
</head>
<body class="bg-gray-100">

    <div class="max-w-6xl mx-auto my-10 bg-white rounded-lg shadow-xl overflow-hidden">
        <div class="px-4 py-5 sm:px-6">
             <h3 class="text-lg leading-6 font-medium text-gray-900">
                <!-- Static Title for Standalone View -->
                有效权限 - 用户: [示例用户名]
            </h3>
            <p class="mt-1 max-w-2xl text-sm text-gray-500">查看用户在各平台上的有效权限及来源（静态示例）</p>
        </div>

        <div class="border-t border-gray-200 px-4 py-5 sm:p-6">
             <!-- Platform Tabs -->
            <div class="border-b border-gray-200 mb-5">
                <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                    <a href="#" id="tab-abs" class="border-blue-500 text-blue-600 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm" aria-current="page" onclick="switchTab(event, 'abs')"> ABS </a>
                    <a href="#" id="tab-bots" class="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm" onclick="switchTab(event, 'bots')"> Bots </a>
                    <a href="#" id="tab-automan" class="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm" onclick="switchTab(event, 'automan')"> AutoMan </a>
                </nav>
            </div>

            <!-- Permissions Content Area -->
            <div id="permissions-content-abs" class="platform-content">
                <div class="mb-4">
                     <input type="text" placeholder="搜索资源名称或路径..." class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
                </div>

                <!-- Resource List (Example Structure for ABS) -->
                <div class="space-y-4 max-h-[70vh] overflow-y-auto pr-2 border rounded p-4 bg-white">
                    <!-- Space Group 1 -->
                    <div class="bg-gray-50 rounded-lg p-3">
                        <h4 class="text-md font-semibold text-gray-800 mb-2 flex items-center">
                            <svg class="h-5 w-5 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>
                            空间: Marketing Space
                        </h4>
                        <div class="pl-5 space-y-3">
                            <!-- App within Space 1 -->
                            <details class="group">
                                <summary class="list-none flex items-center cursor-pointer text-sm">
                                     <svg class="h-4 w-4 mr-2 text-gray-400 group-open:rotate-90 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                                     <svg class="h-5 w-5 mr-1 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path></svg>
                                    <span class="font-medium text-gray-700">应用: Campaign App</span>
                                    <span class="ml-2 text-xs text-gray-500">(权限: 编辑者)</span>
                                </summary>
                                <div class="mt-2 pl-6 border-l border-gray-200 ml-1 py-2 space-y-2">
                                    <p class="text-xs text-gray-600 font-semibold mb-1">在此应用上的有效权限:</p>
                                    <div class="text-xs text-gray-600">app:edit <span class="ml-2 px-1.5 py-0.5 rounded bg-blue-100 text-blue-700 text-[10px]">继承自空间 'Marketing Space' (角色: 空间管理员)</span></div>
                                    <div class="text-xs text-gray-600">app:create_table <span class="ml-2 px-1.5 py-0.5 rounded bg-blue-100 text-blue-700 text-[10px]">继承自空间 'Marketing Space' (角色: 空间管理员)</span></div>
                                    <!-- Table within App -->
                                    <details class="group">
                                         <summary class="list-none flex items-center cursor-pointer text-sm">
                                            <svg class="h-4 w-4 mr-2 text-gray-400 group-open:rotate-90 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                                            <svg class="h-5 w-5 mr-1 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>
                                            <span class="font-medium text-gray-700">表格: Q3 Leads Table</span>
                                            <span class="ml-2 text-xs text-gray-500">(权限: 编辑者)</span>
                                        </summary>
                                        <div class="mt-2 pl-6 border-l border-gray-200 ml-1 py-2 space-y-1">
                                            <p class="text-xs text-gray-600 font-semibold mb-1">在此表格上的有效权限:</p>
                                            <div class="text-xs text-gray-600">table:view <span class="ml-2 px-1.5 py-0.5 rounded bg-green-100 text-green-700 text-[10px]">直接分配 (角色: 编辑者)</span></div>
                                            <div class="text-xs text-gray-600">table:add_record <span class="ml-2 px-1.5 py-0.5 rounded bg-green-100 text-green-700 text-[10px]">直接分配 (角色: 编辑者)</span></div>
                                            <div class="text-xs text-gray-600">table:edit_record <span class="ml-2 px-1.5 py-0.5 rounded bg-blue-100 text-blue-700 text-[10px]">继承自应用 'Campaign App' (角色: 应用管理员)</span></div>
                                        </div>
                                    </details>
                                </div>
                            </details>
                             <!-- Another App or direct resource in Space 1 -->
                             <div class="flex items-center text-sm">
                                <svg class="h-5 w-5 mr-1 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path></svg>
                                <span class="font-medium text-gray-700">应用: Internal Tools</span>
                                <span class="ml-2 text-xs text-gray-500">(权限: 查看者)</span>
                                 <!-- Add details expansion if needed -->
                            </div>
                        </div>
                    </div>
                    <!-- Space Group 2 -->
                    <div class="bg-gray-50 rounded-lg p-3">
                        <h4 class="text-md font-semibold text-gray-800 mb-2 flex items-center">
                           <svg class="h-5 w-5 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>
                            空间: Sales Workspace
                        </h4>
                        <div class="pl-5 space-y-3">
                            <!-- Resources in Space 2 -->
                             <div class="flex items-center text-sm">
                                <svg class="h-5 w-5 mr-1 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path></svg>
                                <span class="font-medium text-gray-700">应用: Q4 Pipeline</span>
                                <span class="ml-2 text-xs text-gray-500">(权限: 成员)</span>
                            </div>
                        </div>
                    </div>
                    <!-- ... More resource groups ... -->
                </div>
            </div>

             <!-- Placeholder for Bots content -->
             <div id="permissions-content-bots" class="platform-content hidden">
                  <div class="text-center py-10">
                    <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <h3 class="mt-2 text-sm font-medium text-gray-900">Bots 平台权限</h3>
                    <p class="mt-1 text-sm text-gray-500">此处显示 Bots 平台的权限详情（空间-智能体/工作流/组件/知识库）。</p>
                </div>
             </div>

             <!-- Placeholder for AutoMan content -->
             <div id="permissions-content-automan" class="platform-content hidden">
                  <div class="text-center py-10">
                      <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a4 4 0 00-5.656 0M14 10l-2 2m0 0l-2-2m2 2v4M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                      <h3 class="mt-2 text-sm font-medium text-gray-900">AutoMan 平台权限</h3>
                      <p class="mt-1 text-sm text-gray-500">此处显示 AutoMan 平台的权限详情（空间-应用-元素/指令）。</p>
                  </div>
             </div>

        </div>
    </div>

    <script>
        // Basic Tab switching logic
        function switchTab(event, platform) {
            event.preventDefault(); // Prevent default anchor behavior

            // Hide all content divs
            const contentDivs = document.querySelectorAll('.platform-content');
            contentDivs.forEach(div => div.classList.add('hidden'));

            // Deactivate all tabs
            const tabs = document.querySelectorAll('nav[aria-label="Tabs"] a');
            tabs.forEach(tab => {
                tab.classList.remove('border-blue-500', 'text-blue-600');
                tab.classList.add('border-transparent', 'text-gray-500', 'hover:text-gray-700', 'hover:border-gray-300');
                tab.removeAttribute('aria-current');
            });

            // Show the selected content div
            document.getElementById(`permissions-content-${platform}`).classList.remove('hidden');

            // Activate the selected tab
            const activeTab = document.getElementById(`tab-${platform}`);
            activeTab.classList.add('border-blue-500', 'text-blue-600');
            activeTab.classList.remove('border-transparent', 'text-gray-500', 'hover:text-gray-700', 'hover:border-gray-300');
            activeTab.setAttribute('aria-current', 'page');
        }
    </script>

</body>
</html>