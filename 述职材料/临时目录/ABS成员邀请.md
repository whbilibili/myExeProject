【开发中】成员邀请

1. 功能目标

允许空间内的特定角色（如“管理员”或“空间所有者”）邀请新成员加入当前工作空间，简化新用户和已有用户的加入流程。

2. 邀请人操作流程 (Admin/Manager View)

触发邀请：管理员在“成员管理”页面，点击“邀请成员”按钮，弹出邀请模态框。

输入被邀请人：

输入框支持输入手机号或邮箱地址。

实时校验：

格式：自动校验邮箱格式是否正确、手机号是否为 11 位数字。

状态：实时搜索系统，并提示以下状态：

“该用户已在当前空间” -> 点击邀请按钮后，提示：该用户已在当前空间。同时，邀请按钮不可点击，除非二次打开弹窗。

 

“该用户已注册，但未加入本空间” -> 正常邀请。

“该用户尚未注册” -> 正常邀请。

选择角色：

管理员必须为被邀请人选择一个初始角色。

默认：「仅浏览」角色

发起邀请：

点击“发送邀请”按钮。

系统后台执行邀请逻辑。

前端提示：“邀请已发送”。

3. 系统后台逻辑

接收请求：收到邀请请求（Invited_Account, Space_ID, Role_ID）。

创建关联：系统立即在 Space_Members 表中创建一条记录，将被邀请人（User_ID 或 Invited_Account）与 Space_ID 关联，状态标记为 Active，并赋予 Role_ID。

判断用户类型：

Case 1: 已注册用户 (手机/邮箱已存在于用户主表)：

发送一封站内信通知。

发送一封邮件或短信通知。

Case 2: 未注册用户 (手机/邮箱不存在)：

发送一封邮件或短信通知。

4. 被邀请人体验流程 (User View)

场景A：未注册用户

用户收到邀请短信或邮件。

用户通过短信/邮件中的链接（或自行访问官网）进行注册。

关键逻辑：用户使用被邀请的手机/邮箱完成注册。

注册成功后：系统识别到该账号有关联的空间邀请，跳过“创建新空间”的步骤，直接将用户带入被邀请的「[Space Name]」工作空间的主页。

场景B：已注册用户

用户收到短信/邮件通知，同时在登录系统后收到一条站内信通知。

用户下次登录或刷新页面时，在“空间切换”列表中会直接看到新的工作空间「[Space Name]」。

点击站内信或邮件中的链接，应直接跳转并切换到该新的工作空间。

✉️ 推荐的通知文案

以下文案中 [Variable] 为变量，请在实际发送时替换。

1. 手机短信通知文案 (SMS)

【[产品名称]】[邀请人姓名] 邀请您加入工作空间「[空间名称]」。请访问 [官网/登录页短链接] 登录或注册 [产品名称] 账号即可加入。

2. 邮箱邀请通知文案 (Email)

邮件主题：您已受邀加入 [产品名称] 工作空间 - [空间名称]

邮件正文：

您好，

[邀请人姓名] ([邀请人邮箱/手机]) 邀请您作为成员加入其在 [产品名称] 上的工作空间：[空间名称]。

[按钮：接受邀请](链接：指向登录/注册页面，并预填邮箱/手机账号)



感谢使用 [产品名称]！

[产品名称] 团队

3. 系统站内信通知文案 (已/未注册用户均有通知)

通知标题：您已被添加入新的工作空间

通知内容：[邀请人姓名] 已将您添加入工作空间「[空间名称]」。您可以在空间列表中进行切换，以访问该空间。