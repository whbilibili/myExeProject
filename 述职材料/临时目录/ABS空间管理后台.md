【设计完成】ABS - 空间管理后台 - V1.0.0

文档版本

修改日期

修改人

备注

v1.0.0

2025-11-27



初始草稿整理

1. 概述

本模块旨在为平台管理员提供一个中心化的空间管理后台，实现对租户空间、应用资产、成员权限、订阅配额及资源账单的全方位监控与管理。

2. 信息架构 (Information Architecture)

3. 功能模块详解

3.1 空间列表页 (Space List)

定位：空间资产的总入口，提供宏观指标监控与快速检索能力。

3.1.1 核心指标卡片 (Key Metrics)

位于页面顶部，实时反映平台运营状况。

指标名称

说明

总空间数

平台当前存在的空间总量。

正常空间数

状态为 Active (正常) 的空间数量。

套餐到期

套餐已过期的空间数量。

今日新增

今日新创建的空间数量。

3.1.2 空间列表 (The List)

搜索：按ID/空间名称进行模糊搜索；按状态进行筛选、按套餐筛选、按创建人筛选、按创建时间筛选、按最近更新时间筛选

排序：默认按创建时间倒序；支持创建时间排序；支持按更新时间排序

 列表字段定义：

字段名称

数据来源/说明

空间 ID

唯一标识符 (SpaceID)。

空间名称

交互：点击名称跳转至 [空间详情页]。

状态

枚举值：正常 、套餐到期

成员数

显示格式：现有人数 / 套餐席位上限 (e.g., 15/20)。

应用数

该空间下的应用总数。

AI 功能

状态：已开启 / 未开启。

空间套餐

枚举值：免费版、进阶版、团队版、企业版。

套餐到期时间

免费版：永久免费

其他版本：时间格式精确到天

本月 Token 用量

本月累积消耗的 AI Token 数量。T+1，每日凌晨进行统计。

鼠标悬停时展示详情

本月累计：1,245,000

历史累计：15,400,000

占用存储

格式：所有记录+所有附件占用的总空间

副标题 - 附件占用：xxxMB/GB

创建人

创建者账号信息。

创建时间

精确到分。

最近更新

空间内任意资产最后一次变动的时间。

3.1.3 列表操作

查看详情：跳转至空间详情页。

删除：执行空间删除操作（需二次确认，确认被删除空间的名称）。

3.2 空间详情页 - 框架与头部 (Detail Framework)

布局结构：顶部基本信息区域 + 下方多标签页 (Tabs)。

3.2.1 顶部基本信息区 (Header)

展示内容：展示空间的全量基本属性（ID、名称、Logo、状态、创建信息等）。

交互：若信息过多，默认展示核心字段，提供 「更多」 按钮，点击后弹窗展示完整元数据。

核心操作按钮：

编辑信息：修改名称、Logo 等基础属性。

删除空间：触发删除流程。

3.3 Tab 1: 数据概览 (Data Overview)

1. 页面布局策略 (Layout Strategy)

本页面采用 三段式栅格布局，旨在帮助管理员在 3 秒内掌握空间健康度与业务规模。

Top (L1): 5 个关键指标卡片，横向铺开，提供即时的空间画像。

Middle (L2): 通栏趋势图表区，包含全局时间/维度筛选器，用于分析业务波动。

Bottom (L3): 左右分栏结构。左侧为资产库存统计（静态），右侧为 Top 资源排行与分布（诊断）。

2. 核心指标卡 (Key Metrics Cards)

指标进行了删减调整，增加了AI Token的统计

位置：页面顶部。
交互：卡片无点击跳转，鼠标 Hover 提示 Tooltip 说明。

指标名称

定义与逻辑

展示规范

Tooltip 文案

活跃用户数

定义：近 7 天内，访问过任意应用下的任意资源（含数据表、仪表盘、脚本编辑器等）的去重用户数。

逻辑：Count(Distinct UserID) where last_active_time >= now() - 7 days。

主数值：5 / 20 (活跃 / 总席位)

颜色：若活跃率 < 20%，主数值标黄。

副标题数值：较上周环比；例如：⬆️12% 较上周

增加为绿色，下降为红色

特殊情况：上期为0或者环比为至0统一展示为UI：“-”，灰色

近 7 天内访问过任意应用资源的用户数 / 当前套餐总席位。

数据规模

定义：当前空间下所有数据表的记录总和。

逻辑：实时或准实时聚合 (Sum(table_rows))。

主数值：动态单位

- 小于等于10k: 展示具体数值 (e.g., 8,542 行)

- 大于 10k: 展示万单位 (e.g., 12.5 万行)

副标题：今日新增

副标题数值：今日新增，展示今日新增数据记录数，如：今日新增 12

当前空间下所有表格的行数总和。

占用存储

定义：数据库存储 + 附件文件存储的总和。

主数值：动态单位

- 自动换算 MB/GB/TB (e.g., 3.2 GB)

包含数据库记录占用及上传的附件文件大小。

API 调用

定义： 近 7 天 API 接口调用总次数。

逻辑：暂时实时统计实现

主数值：动态单位 (e.g., 14.2 万次)

副标题：环比

副标题数值：较上期环比；例如：⬆️12% 

增加为绿色，下降为红色

特殊情况：上期为0或者环比为0统一展示为UI：“-”，灰色

近 7 天 API 接口调用总次数。

Webhook

定义： 近 7 天 Webhook 触发总次数。

逻辑：暂时实时统计实现

主数值：动态单位 (e.g., 8,900 次)

副标题：环比

副标题数值：较上期环比；例如：⬆️12% 

增加为绿色，下降为红色

特殊情况：上期为0或者环比为0统一展示为UI：“-”，灰色

近 7 天 Webhook 触发总次数。

AI Token

定义： 近 7 天 AI Token 消耗总量。

逻辑：暂时实时统计实现

主数值：动态单位 (e.g. 8900、25k、10M)

副标题：环比

副标题数值：较上期环比；例如：⬆️12% 

增加为绿色，下降为红色

特殊情况：上期为0或者环比为0统一展示为UI：“-”，灰色

近 7 天 AI Token 消耗总量。

3. 动态趋势看板 (Trend Analysis)

位置：核心指标卡下方。
布局：

左侧标题：核心趋势

右侧筛选器：[ 时间范围选择器 ] (联动下方所有图表 - 只限动态趋势看版的三个趋势图)

选项：今天、上周、本周、最近7天 (默认)、上月、本月、最近30天、自定义（自定义选择时间段，截止可选的日期为当天，当天到未来的时间段不可选），参考如下样式

统计时机：实时



本区域包含 3 个 Tab 切换展示的小图表

Chart A: API 调用趋势

图表类型：堆叠面积图 (Stacked Area Chart)。

X 轴：时间（根据筛选器动态聚合）。

Y 轴：调用次数。

颜色区分：  使用不同颜色区分调用成功的次数和调用失败的次数。

分析价值：观察业务流量波峰波谷，识别异常刷量。

Chart B: Webhook 触发趋势

图表类型： 堆叠面积图 (Stacked Area Chart)。

X 轴： 时间。

Y 轴： 触发次数（堆叠展示）。展示成功次数和失败次数

颜色区分：使用不同颜色区分触发成功的次数和触发失败的次数。

2025-12-23新增增加AI Token的统计

Chart C: AI Token消耗趋势

图表类型： 平滑折线图 (Spline Chart) 

X 轴： 时间

Y 轴：Token消耗量

Chart C: 人员活跃度趋势

图表类型：折线图。

X 轴：时间（粒度：天/周/月）。

Y 轴：活跃用户数 (DAU/WAU)。

分析价值：观察团队协作的粘性趋势。

4. 资产透视与排行 (Inventory & Drill Down)

位置：页面底部。
布局：采用 1 : 2 左右分栏或 1 : 1 : 1 三栏布局。

4.1 左侧：资产库存概览 (Inventory Summary)

定位：静态数据的盘点，展示“家底”。
展示形式：列表或小卡片矩阵。

统计时机：T+1 (每日更新)

基础资产：

应用数 (Apps)

表格数 (Tables)

仪表盘数 (Dashboards)

自动化资产：

脚本数 (Scripts)

Webhook 数

组织资产：

总成员数 (含席位占用情况)

总部门数

4.2 中间/右侧：存储与资源消耗 (Resource Consumption)

本区域用于回答“资源都去哪了？”的问题。

A. 存储空间分布 (Pie Chart)

图表类型：环形图 (Donut Chart)。

维度：

附件存储 (通常是占比最大的)

数据记录 (结构化数据占用)

交互：Hover 显示具体大小及百分比。

统计时机：T+1 (每日更新)

B. Top 5 存储大户 (Tables)

列表字段：

表名称 (点击跳转至该表)

总占用 (排序依据，降序)

附件占用 (辅助判断是否因为存了大量附件)

展示目的：帮助管理员快速定位占用空间最大的表格，以便进行清理或归档。

统计时机：T+1 (每日更新)

C. Top 5 忙碌 Webhook (Webhooks)

列表字段：

Webhook 名称

状态 (启用/禁用)

本月运行 (排序依据，降序)

累计运行

展示目的：识别高频触发的自动化任务，评估其合理性。

统计时机：T+1 (每日更新)

5. 异常状态处理 (Edge Cases)

空状态 (Empty State)：若空间为新创建，图表区展示“暂无数据，快去创建第一个应用吧”引导图。

3.4 Tab 2: 成员权限

复用空间的「成员」tab即可



3.5 Tab 3: 权限管理 (Permission Management)

功能：管理空间内的 RBAC 权限设置。

管理维度：

个人权限：针对特定 User 的权限配置。

部门权限：针对 Department 的批量权限配置。

3.6 Tab 4: 资产明细 (Asset Inventory)

交互模式：采用 二级 Tab 切换不同类型的资产列表。

各个资产的「搜索」功能做了删减，部分字段做了删减，划掉的部分就是

A. 应用列表 (Apps)

字段：ID、名称、表格数量、仪表盘数量、脚本数量、Webhook数量、关联数据源 (Tag 样式展示所有源，含默认源)、近30天API调用量、创建人 (头像+名称)、创建时间、最近更新。

交互：

点击 “表格数量/仪表盘/脚本/Webhook数量”，跳转至 对应 Tab，并自动筛选出该应用下的所有表格。

关联数据源：tag形式展示关联的数据源，展示名称+头像（数据库类型头像）

搜索：按ID/名称模糊搜索、按创建人搜索、按创建时间、按更新时间

排序：默认按创建时间倒排、支持按创建时间排序、支持按更新时间排序

B. 表格列表 (Tables)

字段：ID、名称、记录数、总存储量、附件存储、视图数量、表关系、Webhook数量、归属应用、创建人、创建时间、最近更新。

交互：

「表关系」展示样式为「关联 xxx 张表」，点击：弹出 关系视图 (ER Diagram) 弹窗，展示表关联拓扑。复用Nocodb中的功能。

点击 “Webhook数量”：跳转至 [Webhook列表] Tab，并自动筛选该表挂载的 Hook。

搜索：按ID/名称模糊搜索、按归属应用搜索（下拉框、多选、支持搜索，数据源为当前空间下所有的应用）、按创建人搜索、按创建时间、按更新时间

排序：默认按创建时间倒排、支持按创建时间排序、支持按更新时间排序

C. 仪表盘 (Dashboards)

字段：ID、名称、组件数量、关联表格、归属应用、创建人、创建时间、最近更新。

搜索：按ID/名称模糊搜索、按归属应用搜索（下拉框、多选、支持搜索，数据源为当前空间下所有的应用）、按创建人搜索、按创建时间、按更新时间

排序：默认按创建时间倒排；支持按创建时间排序、支持按更新时间排序

D. 脚本 (Scripts)

字段：ID、名称、配置代码 (可预览)、累积运行（累积运行次数）、归属应用、创建人、创建时间、最近更新、最后运行时间、最后运行人。

搜索：按ID/名称模糊搜索、按归属应用搜索（下拉框、多选、支持搜索，数据源为当前空间下所有的应用）、按创建人搜索、按创建时间搜索、按最后运行时间、最后运行人

排序：默认按创建时间倒排；支持按创建时间排序、支持按更新时间排序、按最后运行时间排序、按运行次数排序

E. Webhook

字段：名称、类型、状态 (启用/禁用)、本月运行、累积运行、归属表格、归属应用、创建人、创建时间、最近更新、最后运行时间、最后运行人。

操作：启用 / 禁用 开关。

搜索：按名称模糊搜索、按状态搜索（启用、禁用、全部）、按归属表格搜索、按归属应用搜索（下拉框、多选、支持搜索，数据源为当前空间下所有的应用）、按创建人搜索、按最后运行时间、最后运行人搜索

排序：默认按创建时间倒排；支持按创建时间排序、支持按更新时间排序、本月运行次数、按最后运行时间排序

F. 数据源管理 (Data Sources)

字段：名称、类型 (MySQL/PG/Snowflake 等)、关联应用 (Tag 样式展示所有引用该源的应用)、创建人、创建时间。

搜索：按名称搜索、按创建人搜索

排序：默认按创建时间倒排；支持按创建时间排序

3.7 Tab 5: 订阅与配额 (Subscription & Quota)

定位：商业化生命周期管理。

A. 订阅概览

基本信息：当前版本 (套餐名)、到期时间。

操作：套餐修改 (升级/降级/续费)。

B. 资源配额卡片 (Quota Cards)

针对套餐内包含权益的资源，展示使用进度：

可视化：使用进度条 (Progress Bar) 展示 已用量 / 总配额。

涵盖资源：席位、行数、附件存储空间、API 调用额度、webhook运行额度、AI Token额度（2025-12-22新增）

查看详情：卡片右下角增加，查看详情。点击弹出弹窗，展示该资源的资源消耗明细

C. 订阅历史记录 (History)

记录空间订阅状态的变更流水。

2025-12-22细节补充 

1. 字段定义表

列表需包含以下字段信息：

字段名称

类型

说明

示例/备注

记录 ID

String

唯一流水号

#1024

日期

DateTime

记录产生的时间

YYYY-MM-DD HH:mm:ss

行为

String

订阅变动的具体类型

购买 - ABS团队版/免费版/企业版/进阶版

来源

Enum

变更的操作源头

• 用户付费：线上支付流程

• 平台操作：后台人工干预/系统赠送

用量

Number

购买/变动的时长数量

如：1年

操作人

User

执行该操作的用户

展示「头像 + 昵称」

消耗金额

Currency

实际扣除金额

若为「平台操作」，则花费为0

若为「用户付费」，则记录用户实际花费的金额

说明

Text

备注信息或原因

平台操作：平台补偿、活动赠送等，无内容显示 -

用户付费，没有说明

搜索：按日期搜索、按来源搜索、按操作人搜索（多选，支持搜索（名称、mis、手机号、邮箱号））

分页：支持分页

排序：默认按日期倒排

缺省态：若「说明」字段为空，前端需统一展示占位符 -。

2. 数据展示示例 (UI Preview)

记录 ID

日期

行为

来源

用量

操作人

消耗金额

说明

1

2025-12-11 11:12:12

购买 - ABS 团队版

平台操作

1 年

展示「头像 + 昵称」

¥ 0

平台补偿

2

2025-12-11 11:12:12

购买 - ABS 团队版

用户付费

1 年

展示「头像 + 昵称」

¥ 8,800

-

3.8 Tab 6: 资源消耗账单 (Billing Logs)

定位：记录套餐内有限额资源的每一次消耗明细（流水账）。

不做聚合了

聚合策略：记录、API、webhook可能存在大量的实时调用，若每一次操作都记录一条消耗账单，数据会大量膨胀，因此采用按小时聚合的策略。在「用量」列，这三种资源需要给出ToolTip提示：按小时进行聚合展示

返还策略：API、webhook、AI Token属于资源消耗型，每月都会重制当前月份的配额，调用即消耗，不存在返还一说

列表字段：
日期、资源类型、行为、变动类型、用量、单位、用户 (操作人)。

搜索：按时间筛选、按资源类型、按行为模糊搜索、按变动类型（下拉单选，数据源为：全部、消耗、返还）、按操作人（下拉，多选）

排序：默认按日期到排

计费行为定义表：

资源类型

行为 (Action)

变动类型 (Type)

聚合策略

单位

触发场景示例

记录

新增记录

消耗

按小时聚合，按用户/操作人分组

实时记录

条

用户在表格中添加一行数据

删除记录

返还

条

用户删除数据，释放配额

Webhook

调用 - {HookName}

消耗

按小时聚合，按用户/操作人分组

实时记录

次

自动化任务被触发

API

调用 - {Endpoint}

消耗

按小时聚合，按用户/操作人分组

实时记录

次

外部系统调用 API 接口

席位

添加成员

消耗

实时记录

个

邀请新成员加入空间，消耗席位

删除成员

返还

实时记录

个

移除成员，释放席位

附件存储

添加附件

消耗

实时记录

MB/GB

上传文件

删除附件

返还

实时记录

MB/GB

删除文件

AI Token

调用 - {模型名称}；如：调用 gpt-4.1

消耗

实时记录

个/万



表格内展示规则 (Display Rule):

若总消耗 < 10,000: 直接显示精确整数，建议增加千位分隔符。

示例: 7,894

若总消耗 ≥ 10,000: 以“万”为单位，数值保留一位小数（四舍五入）。

示例: 12,345 Token 展示为 1.2万。

悬浮提示详情 (Tooltip Detail)

触发: 鼠标悬浮于“Token 用量”数值旁的提示图标 (i) 上时显示。

内容结构:

输入 Token：[精确整数] 个

输出 Token：[精确整数] 个

总计 Token：[精确整数] 个

示例:

Token消耗详情

输入Token：4,567 个s

输出Token：7,778 个

总计Token：12,345 个

调用AI功能