# 用户管理系统 - 高保真原型 V4

基于飞书设计风格的用户管理系统高保真原型，实现了完整的交互功能和数据展示。

## ✨ 特性

- 🎨 **飞书设计风格** - 采用飞书/Lark的设计规范，简洁现代
- 📊 **完整数据可视化** - 使用ECharts实现12+个交互图表
- 🔄 **全功能交互** - 支持搜索、筛选、排序、分页、CRUD等所有操作
- 💾 **Mock数据系统** - 完整的数据生成器，支持100+用户数据
- 📱 **响应式设计** - 适配桌面端（1920x1080为主）
- ⚡ **极致性能** - 使用CDN加载，无需构建，即开即用

## 📁 项目结构

```
用户管理原型V4/
├── index.html                # 用户列表页
├── user-detail.html          # 用户详情页主框架
├── pages/                    # 详情页标签页
│   ├── overview.html         # 数据总览（图表密集型）
│   ├── consumption.html      # 消费明细（流水表格）
│   ├── assets.html           # 资产明细（6个内嵌标签页）
│   └── tenants.html          # 加入的租户
├── assets/
│   ├── css/
│   │   └── feishu-design.css # 飞书设计系统
│   └── js/
│       ├── utils.js          # 工具函数库
│       ├── mock-data.js      # Mock数据生成器
│       └── charts.js         # ECharts图表配置
└── README.md                 # 本文档
```

## 🚀 快速开始

### 方式一：直接打开（推荐）

1. 在浏览器中打开 `index.html` 文件
2. 开始浏览用户列表
3. 点击用户名称查看详情

### 方式二：使用本地服务器

```bash
# 使用Python
python -m http.server 8000

# 或使用Node.js
npx serve

# 然后访问 http://localhost:8000
```

## 📖 功能说明

### 1. 用户列表页 (index.html)

**仪表盘**
- 用户总数：平台内所有用户的数量
- 正常用户：状态为"正常"的用户数量
- 已禁用用户：状态为"已禁用"的用户数量

**搜索筛选**
- 模糊搜索：支持用户名称、用户ID、手机号、邮箱号、MIS号
- 状态筛选：全部/正常/已禁用
- 归属租户筛选：多选，支持搜索
- 创建时间筛选：日期范围选择

**数据表格**
- 10个字段展示，包含完整的用户信息
- 支持列排序（创建时间、最后登录时间）
- 支持分页（每页10/20/50/100条）
- 复制功能：点击复制图标复制手机、邮箱、MIS号
- 行操作：重置密码、禁用/启用、注销
- 账号金额：可点击修改，支持充值/扣除

**交互细节**
- 点击用户名称跳转详情页
- 高危操作需二次确认
- 注销操作需输入"确认注销"

### 2. 用户详情页 (user-detail.html)

**顶部操作栏**
- 返回按钮：返回列表页
- 用户名称：当前查看的用户
- 操作按钮：启用/禁用、重置密码、注销

**用户信息头部**
- 用户头像（80px圆形）
- 基本信息：ID、手机、邮箱、MIS、创建时间、最后登录、状态、余额
- 复制功能：点击图标复制信息
- 编辑按钮：编辑基本信息

**标签页容器**
- 4个标签页，以iframe方式嵌入
- 懒加载：首次切换时才加载内容
- 参数传递：通过URL传递userId

### 3. 数据总览页 (pages/overview.html)

**全局筛选器**
- 时间范围：最近7天/30天/90天/自定义
- 租户选择器：多选，支持搜索
- 实时影响所有数据

**模块一：资产与使用总览**
- 6项资产创建总数（智能体、工作流、工具、工具库、知识库、空间）
- 6项核心资产活跃度（运行次数、成功率、引用数）
- 每个指标都有Tooltip说明

**模块二：积分总览**
- 3个核心指标卡：积分总消耗、Token消耗积分、设备抵扣积分
- 4个ECharts图表：
  - 积分消耗趋势（面积图，可切换日/周/月）
  - 积分消耗构成（环形图）
  - 按模型积分消耗排行（水平条形图，Top 20）
  - 按设备积分消耗分布（饼图）

**模块三：核心资源消耗分析**

*子区域A - Token消耗分析：*
- 3个指标卡：Token总消耗数、总输入Token、总输出Token
- 3个图表：Token消耗趋势、输入/输出Token构成、模型Token消耗分析

*子区域B - 设备时长分析：*
- 3个指标卡：总设备使用时长、云电脑使用时长、云手机使用时长
- 2个图表：设备使用时长趋势（双折线）、使用与抵扣趋势（组合图）

### 4. 消费明细页 (pages/consumption.html)

**高级筛选器**
- 时间范围：日期范围选择器
- 资源类型：多选（Token、云电脑、云手机、存储空间、带宽流量）
- 行为：模糊搜索
- 变动类型：全部/消耗/返还
- 计费租户：下拉选择
- 是否消耗积分：是/否/全部

**数据表格**
- 7个字段：日期、资源类型、行为、变动类型、用量、消耗积分、计费租户
- 默认按日期降序排序
- 支持导出CSV
- 支持分页（每页20/50/100/200条）

**详情对话框**
- 点击"查看详情"查看完整消费记录信息

### 5. 资产明细页 (pages/assets.html)

**6个内嵌标签页：**

1. **智能体** - 名称、运行次数、用户数、状态、创建人、最后更新时间、最后运行时间
2. **工作流** - 名称、运行次数、用户数、状态、创建人、最后更新时间、最后运行时间
3. **工具** - 名称、所属工具库、智能体引用数、工作流引用数、创建时间、创建人
4. **工具库** - 名称、状态、类型、工具数、创建时间、创建人
5. **知识库** - 名称、状态、知识单元、被引用次数、占用容量、创建时间、创建人
6. **空间** - 空间ID、空间名称、类型、所有者、创建人、创建时间、最近更新人、最近更新时间

**功能特性：**
- 每个标签页独立的搜索和筛选
- 支持排序和分页
- 懒加载：切换时才加载数据

### 6. 加入的租户页 (pages/tenants.html)

**操作栏**
- 添加到租户：弹窗选择，支持多选
- 批量移出租户：勾选后启用，所有者不可移除
- 模糊搜索：搜索租户名称/ID

**租户列表**
- 8个字段：复选框、租户ID、名称、加入时间、版本、创建人、创建时间、所有者
- 单个移出：点击操作列的"移出租户"按钮
- 批量移出：勾选多个租户后点击批量按钮

**添加租户交互**
- 模态框展示所有租户
- 已加入的租户复选框禁用并标记
- 支持搜索和多选
- 确认后添加到用户的租户列表

## 🎨 设计规范

### 色彩系统

- **主色** - #3370FF (飞书蓝)
- **成功色** - #00B42A (绿)
- **警告色** - #FF7D00 (橙)
- **危险色** - #F53F3F (红)
- **信息色** - #3370FF (蓝)

### 文本层级

- **一级文本** - #1F2329 (标题、重要文本)
- **二级文本** - #646A73 (正文、次要信息)
- **三级文本** - #8F959E (辅助文本、提示)
- **四级文本** - #C9CDD4 (禁用文本、占位符)

### 间距系统

基于4px基准：4px、8px、12px、16px、24px、32px、40px、48px、64px

### 圆角规范

- XS: 2px
- SM: 4px
- MD: 6px
- LG: 8px
- XL: 12px
- FULL: 9999px (圆形)

### 阴影层次

- SM: 0 1px 4px rgba(0,0,0,0.04)
- BASE: 0 2px 8px rgba(0,0,0,0.08)
- MD: 0 4px 12px rgba(0,0,0,0.12)
- LG: 0 8px 24px rgba(0,0,0,0.12)
- XL: 0 12px 32px rgba(0,0,0,0.16)

## 📊 Mock数据说明

**生成的数据量：**
- 120个用户
- 20个租户
- 80个智能体
- 60个工作流
- 100个工具
- 8个工具库
- 50个知识库
- 40个空间
- 1000条消费记录

**数据特点：**
- 所有数据均为随机生成，具有真实感
- 用户与租户的关系随机分配（1-5个租户）
- 每个租户都有一个所有者用户
- 消费记录包含多种资源类型和行为
- 图表数据为时间序列，最近30天

**数据操作：**
- 支持完整的CRUD操作
- 搜索、筛选、排序、分页功能完整
- 数据修改即时生效
- CSV导出功能可用

## 🛠️ 技术栈

- **框架**: Vue 3.3 (CDN)
- **UI组件**: Element Plus 2.4 (CDN)
- **图表库**: ECharts 5.4 (CDN)
- **设计风格**: 飞书/Lark Design System
- **数据**: Mock Data Generator (内置)

## 📝 浏览器兼容性

- Chrome 90+ ✅
- Edge 90+ ✅
- Firefox 88+ ✅
- Safari 14+ ✅

## 💡 使用提示

1. **首次访问**：建议从用户列表页开始，熟悉整体布局
2. **数据刷新**：刷新页面会重新生成Mock数据
3. **交互体验**：所有操作都有即时反馈，高危操作有二次确认
4. **图表交互**：图表支持缩放、Tooltip、图例交互
5. **复制功能**：点击复制图标后会显示成功提示
6. **导出功能**：消费明细支持导出为CSV文件

## 🎯 核心亮点

### 1. 设计层次感
- 卡片阴影层次分明
- 颜色层级清晰
- 间距系统规范
- Z-index管理有序

### 2. 用户体验
- 响应迅速（300ms加载动画）
- 操作流程顺畅
- 错误提示友好
- 防抖节流优化

### 3. 数据展示
- 12+个图表，飞书配色
- 数据卡片信息丰富
- 表格功能完整
- 筛选器灵活强大

### 4. 交互细节
- Tooltip提示完善
- 二次确认高危操作
- 加载状态清晰
- 动画效果自然

## 📖 开发文档

### 添加新的筛选条件

在对应页面的 `filters` ref中添加字段，然后在 `loadData()` 函数中处理筛选逻辑。

### 添加新的图表

1. 在 `assets/js/charts.js` 中添加图表配置函数
2. 在页面HTML中添加图表容器
3. 在页面JS中调用 `ChartConfig.initChart()`

### 修改Mock数据

编辑 `assets/js/mock-data.js` 文件，修改数据生成逻辑。

### 自定义样式

编辑 `assets/css/feishu-design.css` 文件，所有设计变量都在`:root`中定义。

## 📄 许可证

本项目为演示原型，仅供学习和参考使用。

## 👨‍💻 作者

基于用户管理V1.1方案实现

---

**注意**：这是一个高保真原型，所有数据均为Mock数据，操作不会影响真实系统。


