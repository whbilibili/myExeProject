<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bots 智能助理平台 - 租户权益管理 (企业版)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f3ff',
                            100: '#dee9ff',
                            500: '#6366f1',
                            600: '#4f46e5',
                            700: '#4338ca',
                            900: '#312e81'
                        },
                        gold: {
                            100: '#fef9c3',
                            500: '#eab308',
                            800: '#ca8a04'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        html {
            scroll-behavior: smooth;
        }

        .tab-btn.active {
            border-bottom-color: #4f46e5;
            color: #4f46e5;
            font-weight: 600;
        }

        .feature-check { color: #10b981; }
        .feature-infinite { color: #6366f1; }

        body.modal-open {
            overflow: hidden;
        }
    </style>
</head>
<body class="bg-slate-50">

    <!-- 主平台界面 -->
    <div id="main-platform" class="min-h-screen">
        <!-- 顶部导航栏 -->
        <nav class="bg-white border-b border-slate-200 sticky top-0 z-40">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <div class="flex items-center space-x-8">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-gradient-to-r from-primary-500 to-primary-700 rounded-lg flex items-center justify-center">
                                <i class="fas fa-robot text-white text-sm"></i>
                            </div>
                            <span class="text-xl font-bold text-slate-900">Bots</span>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                            <span class="bg-gold-100 text-gold-800 px-2 py-1 rounded-full text-xs font-bold">企业版</span>
                        <div class="relative">
                            <button id="user-menu-btn" class="flex items-center space-x-2 p-1 rounded-full hover:bg-slate-100">
                                <img class="w-8 h-8 rounded-full object-cover" src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=150&h=150&fit=crop&crop=face" alt="管理员头像">
                                <i class="fas fa-chevron-down text-slate-400 text-xs"></i>
                            </button>
                            <div id="user-dropdown" class="hidden absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-slate-100 py-2 z-50">
                                <div class="px-4 py-3 border-b border-slate-100">
                                    <p class="text-sm font-medium text-slate-900">李四 (管理员)</p>
                                    <p class="text-xs text-slate-500">lisi@acme.com</p>
                                </div>
                                <button id="tenant-benefits-btn" class="w-full flex items-center px-4 py-2 text-sm text-slate-700 hover:bg-slate-50">
                                    <i class="fas fa-crown mr-3 text-gold-500"></i>
                                    租户权益
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        <main class="pt-8 pb-8">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h1 class="text-2xl font-bold">企业版工作台</h1>
                <p class="text-slate-600 mt-2">这里是企业版的主平台内容区域，展示企业级功能和管理面板。</p>
            </div>
        </main>
    </div>

    <!-- 租户权益全屏页面 -->
    <div id="tenant-benefits-page" class="hidden fixed inset-0 bg-slate-50 z-50 flex flex-col">
        <!-- 顶部导航 -->
        <header class="bg-white border-b border-slate-200">
            <div class="max-w-6xl mx-auto px-6 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <button id="close-benefits-btn" class="p-2 hover:bg-slate-100 rounded-lg">
                            <i class="fas fa-arrow-left text-slate-600"></i>
                        </button>
                        <h1 class="text-xl font-semibold text-slate-900">租户权益管理</h1>
                    </div>
                    <div class="text-sm text-slate-600">
                        当前租户：<span class="font-medium text-slate-900">ACME 集团</span>
                    </div>
                </div>
            </div>
            <!-- Tab 导航 -->
            <div class="max-w-6xl mx-auto px-6">
                <div class="flex space-x-8">
                    <button class="tab-btn active px-1 py-3 text-sm font-medium border-b-2" data-tab="current-plan">当前订阅计划</button>
                    <button class="tab-btn px-1 py-3 text-sm font-medium border-b-2 border-transparent text-slate-500 hover:text-slate-900" data-tab="all-plans">升级方案</button>
                </div>
            </div>
        </header>

        <!-- Tab 内容区 -->
        <main class="flex-1 overflow-y-auto">
            <!-- 当前订阅计划 -->
            <div id="current-plan-content" class="tab-content p-6">
                <div class="max-w-6xl mx-auto">
                    <!-- 计划概览 -->
                    <div class="bg-gradient-to-br from-primary-50 to-gold-100 rounded-2xl p-8 mb-8">
                        <div class="flex flex-wrap items-center justify-between gap-6">
                            <div>
                                <div class="flex items-center space-x-3 mb-4">
                                    <div class="bg-gradient-to-r from-primary-600 to-primary-700 text-white px-3 py-1 rounded-full text-sm font-bold shadow">企业版</div>
                                    <span class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium">订阅至 2025-07-20</span>
                                </div>
                                <h2 class="text-2xl font-bold text-slate-900 mb-2">顶级功能，无限资源，专属支持</h2>
                                <p class="text-slate-600">为大型组织设计的完整解决方案</p>
                            </div>
                            <div class="text-right">
                                <div class="flex items-center justify-end space-x-2">
                                    <div class="text-sm text-slate-600">积分余额</div>
                                    <button id="billing-rules-btn" class="text-xs text-slate-400 hover:text-primary-600"><i class="fas fa-info-circle"></i> 计费规则</button>
                                </div>
                                <div class="text-3xl font-bold text-primary-600 mt-1">3,000,000
                                    <span class="text-sm text-gray-500 font-normal">/3,000,000</span>
                                </div>
                                <!-- <div class="text-xs text-slate-500 mt-1">每月重置</div> -->
                                <button id="recharge-btn" class="mt-2 text-primary-600 text-sm font-medium hover:text-primary-700"><i class="fas fa-coins mr-1"></i>充值积分</button>
                            </div>
                        </div>
                    </div>
                    <!-- 权益 -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                        <div class="bg-white rounded-xl shadow-sm border border-slate-100 p-6">
                            <h3 class="text-lg font-semibold text-slate-900 mb-6">核心权益</h3>
                            <div class="grid grid-cols-2 gap-y-4 gap-x-6">
                                <div class="flex items-center"><i class="fas fa-infinity feature-infinite mr-3"></i><span class="text-sm text-slate-700">无限智能体</span></div>
                                <div class="flex items-center"><i class="fas fa-infinity feature-infinite mr-3"></i><span class="text-sm text-slate-700">无限工作流</span></div>
                                <div class="flex items-center"><i class="fas fa-infinity feature-infinite mr-3"></i><span class="text-sm text-slate-700">无限工具库</span></div>
                                <div class="flex items-center"><i class="fas fa-infinity feature-infinite mr-3"></i><span class="text-sm text-slate-700">无限协作用户</span></div>
                                <div class="flex items-center"><i class="fas fa-infinity feature-infinite mr-3"></i><span class="text-sm text-slate-700">无限团队空间</span></div>
                                <div class="flex items-center"><i class="fas fa-shield-alt feature-check mr-3"></i><span class="text-sm text-slate-700">高级安全与合规</span></div>
                                <div class="flex items-center"><i class="fas fa-user-tie feature-check mr-3"></i><span class="text-sm text-slate-700">专属客户成功经理</span></div>
                                <div class="flex items-center"><i class="fas fa-headset feature-check mr-3"></i><span class="text-sm text-slate-700">24/7 优先技术支持</span></div>
                                <div class="flex items-center"><i class="fas fa-sitemap feature-check mr-3"></i><span class="text-sm text-slate-700">SSO 单点登录</span></div>
                            </div>
                        </div>
                        <div class="bg-white rounded-xl shadow-sm border border-slate-100 p-6">
                            <h3 class="text-lg font-semibold text-slate-900 mb-2">订阅管理</h3>
                            <p class="text-sm text-slate-500 mb-6">管理您的企业版订阅计划</p>
                            <div class="space-y-4">
                                <div class="flex justify-between items-center"><span class="text-sm text-slate-600">订阅状态</span><span class="text-sm font-medium text-green-600">有效</span></div>
                                <div class="flex justify-between items-center"><span class="text-sm text-slate-600">计费周期</span><span class="text-sm font-medium text-slate-800">按年</span></div>
                                <div class="flex justify-between items-center"><span class="text-sm text-slate-600">下次续费日期</span><span class="text-sm font-medium text-slate-800">2025-07-20</span></div>
                            </div>
                            <div class="mt-8 pt-6 border-t border-slate-100">
                                <div class="flex space-x-4">
                                    <!-- <button class="flex-1 w-full bg-white border border-primary-600 text-primary-600 py-3 px-4 rounded-lg font-medium hover:bg-primary-50 transition-colors">
                                        联系客户经理
                                    </button> -->
                                    <button id="renew-subscription-btn" class="flex-1 w-full bg-primary-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-primary-700 transition-colors">
                                        立即续费
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 积分收支流水 -->
                    <div class="mt-8 bg-white rounded-xl shadow-sm border border-slate-100 p-6">
                        <h3 class="text-lg font-semibold text-slate-900 mb-6">积分收支明细</h3>
                        <div class="overflow-y-auto" style="max-height: 300px;">
                            <table class="w-full text-sm">
                                <thead class="bg-slate-50 sticky top-0">
                                    <tr>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase">时间</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase">类型</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase">详情</th>
                                        <th class="px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase">积分变化</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-200">
                                    <tr><td class="px-4 py-3 text-slate-500">2024-07-19 11:30:00</td><td class="px-4 py-3 font-medium">模型调用</td><td class="px-4 py-3 text-slate-600">财务报表分析 (GPT-4)</td><td class="px-4 py-3 text-right font-semibold text-red-500">- 500</td></tr>
                                    <tr class="bg-slate-50"><td class="px-4 py-3 text-slate-500">2024-07-18 15:00:00</td><td class="px-4 py-3 font-medium">工作流执行</td><td class="px-4 py-3 text-slate-600">每日舆情监控 (1000次)</td><td class="px-4 py-3 text-right font-semibold text-red-500">- 1000</td></tr>
                                    <tr><td class="px-4 py-3 text-slate-500">2024-07-17 10:00:00</td><td class="px-4 py-3 font-medium">积分充值</td><td class="px-4 py-3 text-slate-600">企业套餐补充</td><td class="px-4 py-3 text-right font-semibold text-green-500">+ 500,000</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 升级方案 -->
            <div id="all-plans-content" class="tab-content hidden p-6">
                 <div class="max-w-6xl mx-auto">
                    <div class="text-center mb-8">
                        <h2 class="text-3xl font-bold text-slate-900 mb-4">订阅方案对比</h2>
                        <p class="text-lg text-slate-600 max-w-2xl mx-auto">您当前已是我们平台的顶级企业版客户</p>
                    </div>
                    <!-- 订阅计划卡片 -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12">
                        <!-- 个人免费版 -->
                        <div class="bg-white rounded-2xl shadow-sm border border-gray-200 p-8 relative">
                            <div class="text-center mb-6">
                                <h3 class="text-xl font-bold text-gray-900 mb-2">个人免费版</h3>
                                <p class="text-gray-600 text-sm mb-4">基础功能体验</p>
                                <div class="text-4xl font-bold text-gray-900 mb-2">免费</div>
                                <div class="text-sm text-gray-500">永久有效</div>
                            </div>
                            <div class="space-y-3 mb-8">
                                <div class="flex items-center text-sm"><i class="fas fa-check text-green-500 mr-3"></i><span>3个智能体</span></div>
                                <div class="flex items-center text-sm"><i class="fas fa-check text-green-500 mr-3"></i><span>3个工作流</span></div>
                                <div class="flex items-center text-sm"><i class="fas fa-check text-green-500 mr-3"></i><span>1个工具库</span></div>
                                <div class="flex items-center text-sm"><i class="fas fa-check text-green-500 mr-3"></i><span>5个协作用户</span></div>
                                <div class="flex items-center text-sm"><i class="fas fa-check text-green-500 mr-3"></i><span>1个Bots空间</span></div>
                            </div>
                            <div class="pt-4 mt-4 border-t border-gray-100">
                                <div class="flex items-center text-sm">
                                    <i class="fas fa-coins text-yellow-500 fa-fw mr-3"></i>
                                    <span class="text-gray-600">积分: <span class="font-semibold text-gray-800">200</span></span>
                                </div>
                            </div>
                            <button disabled class="w-full mt-8 bg-gray-100 text-gray-400 py-3 px-4 rounded-lg font-medium cursor-not-allowed">联系支持</button>
                        </div>

                        <!-- 团队版 -->
                        <div class="bg-white rounded-2xl shadow-sm border border-gray-200 p-8 relative">
                            <div class="text-center mb-6">
                                <h3 class="text-xl font-bold text-gray-900 mb-2">团队版</h3>
                                <p class="text-gray-600 text-sm mb-4">小型团队协作</p>
                                <div class="text-4xl font-bold text-gray-900 mb-2">¥299<span class="text-lg text-gray-500">/月</span></div>
                                <div class="text-sm text-gray-500">或 ¥2,990/年（8.3折）</div>
                            </div>
                            <div class="space-y-3 mb-8">
                                <div class="flex items-center text-sm"><i class="fas fa-check text-green-500 mr-3"></i><span>10个智能体</span></div>
                                <div class="flex items-center text-sm"><i class="fas fa-check text-green-500 mr-3"></i><span>10个工作流</span></div>
                                <div class="flex items-center text-sm"><i class="fas fa-check text-green-500 mr-3"></i><span>10个工具库</span></div>
                                <div class="flex items-center text-sm"><i class="fas fa-check text-green-500 mr-3"></i><span>50个协作用户</span></div>
                                <div class="flex items-center text-sm"><i class="fas fa-check text-green-500 mr-3"></i><span>团队协作管理</span></div>
                                <div class="flex items-center text-sm"><i class="fas fa-check text-green-500 mr-3"></i><span>优先技术支持</span></div>
                            </div>
                            <div class="pt-4 mt-4 border-t border-gray-100">
                                <div class="flex items-center text-sm">
                                    <i class="fas fa-coins text-yellow-500 fa-fw mr-3"></i>
                                    <span class="text-gray-600">积分: <span class="font-semibold text-gray-800">5,000</span></span>
                                </div>
                            </div>
                            <button disabled class="w-full mt-8 bg-gray-100 text-gray-400 py-3 px-4 rounded-lg font-medium cursor-not-allowed">联系支持</button>
                        </div>

                        <!-- 企业版 (当前方案) -->
                        <div class="bg-white rounded-2xl shadow-lg border-2 border-primary-500 p-8 relative">
                             <div class="absolute -top-4 left-1/2 transform -translate-x-1/2">
                                <span class="bg-primary-500 text-white px-4 py-1 rounded-full text-sm font-medium">当前方案</span>
                            </div>
                            <div class="text-center mb-6">
                                <h3 class="text-xl font-bold text-gray-900 mb-2">企业版</h3>
                                <p class="text-gray-600 text-sm mb-4">大型组织解决方案</p>
                                <div class="text-4xl font-bold text-gray-900 mb-2">¥999<span class="text-lg text-gray-500">/月</span></div>
                                <div class="text-sm text-gray-500">或 ¥9,990/年（8.3折）</div>
                            </div>
                             <div class="space-y-3 mb-8">
                                <div class="flex items-center text-sm"><i class="fas fa-check text-green-500 mr-3"></i><span>无限制智能体</span></div>
                                <div class="flex items-center text-sm"><i class="fas fa-check text-green-500 mr-3"></i><span>无限制工作流</span></div>
                                <div class="flex items-center text-sm"><i class="fas fa-check text-green-500 mr-3"></i><span>无限制工具库</span></div>
                                <div class="flex items-center text-sm"><i class="fas fa-check text-green-500 mr-3"></i><span>无限制协作用户</span></div>
                                <div class="flex items-center text-sm"><i class="fas fa-check text-green-500 mr-3"></i><span>高级安全管理</span></div>
                                <div class="flex items-center text-sm"><i class="fas fa-check text-green-500 mr-3"></i><span>专属客户经理</span></div>
                            </div>
                             <div class="pt-4 mt-4 border-t border-gray-100">
                                <div class="flex items-center text-sm">
                                    <i class="fas fa-coins text-yellow-500 fa-fw mr-3"></i>
                                    <span class="text-gray-600">积分: <span class="font-semibold text-gray-800">3,000,000</span></span>
                                </div>
                            </div>
                            <button disabled class="w-full mt-8 bg-gray-100 text-gray-400 py-3 px-4 rounded-lg font-medium">当前使用中</button>
                        </div>
                    </div>
                    <!-- 详细功能对比表 -->
                    <div class="bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden">
                        <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                            <h3 class="text-lg font-semibold text-gray-900">详细功能对比</h3>
                        </div>
                        <div class="overflow-x-auto table-scrollbar">
                            <table class="w-full">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">功能特性</th>
                                        <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">个人免费版</th>
                                        <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">团队版</th>
                                        <th class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">企业版</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">智能体数量</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">3</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">10</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center font-bold text-primary-600">无限制</td>
                                    </tr>
                                    <tr class="bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">工作流数量</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">3</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">10</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center font-bold text-primary-600">无限制</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">工具库数量</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">1</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">10</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center font-bold text-primary-600">无限制</td>
                                    </tr>
                                    <tr class="bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">工具数量</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">1</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">10</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center font-bold text-primary-600">无限制</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">协作用户数</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">5</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">50</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center font-bold text-primary-600">无限制</td>
                                    </tr>
                                    <tr class="bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">Bots空间</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">1个</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center">1个</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center font-bold text-primary-600">无限制</td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">成员与组织管理</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-center"><i class="fas fa-times text-red-500"></i></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-center"><i class="fas fa-check text-green-500"></i></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-center"><i class="fas fa-check text-green-500"></i></td>
                                    </tr>
                                    <tr class="bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">优先技术支持</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-center"><i class="fas fa-times text-red-500"></i></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-center"><i class="fas fa-check text-green-500"></i></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-center"><i class="fas fa-check text-green-500"></i></td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">专属客户经理</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-center"><i class="fas fa-times text-red-500"></i></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-center"><i class="fas fa-times text-red-500"></i></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-center"><i class="fas fa-check text-green-500"></i></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                 </div>
            </div>
        </main>
    </div>

    <!-- 弹窗部分 (计费规则 & 积分充值) -->
    <!-- 积分计费规则弹窗 -->
    <div id="billing-rules-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-2xl w-full p-6 animate-slide-up custom-scrollbar" style="max-height: 90vh; overflow-y: auto;">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-bold text-gray-900">积分计费规则</h3>
                <button id="close-rules-modal" class="p-2 -mr-2 text-gray-500 hover:bg-gray-100 rounded-full focus:outline-none">&times;</button>
            </div>
            <div class="border-b border-gray-200 mb-4">
                <nav class="-mb-px flex space-x-6" aria-label="Tabs">
                    <button class="rules-tab whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm text-primary-600 border-primary-600" data-tab="consumption">消耗规则</button>
                    <button class="rules-tab whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm text-slate-500 border-transparent hover:text-slate-700 hover:border-slate-300" data-tab="acquisition">增加规则</button>
                </nav>
            </div>
            <div id="consumption-rules-content" class="rules-tab-content space-y-4 text-sm">
                <p class="text-gray-600">积分是平台内用于计量资源消耗的统一单位。</p>
                <div>
                    <h4 class="font-semibold text-gray-800 mb-2">详细计费表示例：</h4>
                    <div class="overflow-x-auto table-scrollbar rounded-lg border">
                        <table class="w-full">
                            <thead class="bg-gray-100">
                                <tr>
                                    <th class="px-4 py-2 text-left text-xs font-medium text-gray-600 uppercase">功能/模型</th>
                                    <th class="px-4 py-2 text-left text-xs font-medium text-gray-600 uppercase">计费单位</th>
                                    <th class="px-4 py-2 text-right text-xs font-medium text-gray-600 uppercase">积分消耗</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200">
                                <tr><td class="px-4 py-2 font-medium">GPT-3.5-Turbo</td><td class="px-4 py-2">每 1k tokens</td><td class="px-4 py-2 text-right">5 积分</td></tr>
                                <tr class="bg-gray-50"><td class="px-4 py-2 font-medium">GPT-4</td><td class="px-4 py-2">每 1k tokens</td><td class="px-4 py-2 text-right">50 积分</td></tr>
                                <tr><td class="px-4 py-2 font-medium">工作流执行</td><td class="px-4 py-2">每次成功执行</td><td class="px-4 py-2 text-right">1 积分</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="mt-4 bg-blue-50 border border-blue-200 text-blue-800 rounded-lg p-3 text-sm flex items-start">
                        <i class="fas fa-cogs mr-3 mt-1 text-blue-500"></i>
                        <div><span class="font-semibold">功能开发中:</span> 此处的积分消耗规则为功能示例，详细的自动化计费系统正在开发中，敬请期待！</div>
                    </div>
                </div>
            </div>
            <div id="acquisition-rules-content" class="hidden rules-tab-content space-y-4 text-sm">
                 <p class="text-gray-600">通过参与平台活动、分享您的创作成果，可以获得积分奖励。</p>
                <div>
                    <h4 class="font-semibold text-gray-800 mb-2">详细增加规则示例：</h4>
                    <div class="overflow-x-auto table-scrollbar rounded-lg border">
                        <table class="w-full">
                           <thead class="bg-gray-100">
                                <tr>
                                    <th class="px-4 py-2 text-left text-xs font-medium text-gray-600 uppercase">活动/任务</th>
                                    <th class="px-4 py-2 text-left text-xs font-medium text-gray-600 uppercase">奖励条件</th>
                                    <th class="px-4 py-2 text-right text-xs font-medium text-gray-600 uppercase">积分奖励</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200">
                                <tr><td class="px-4 py-2 font-medium">每日签到</td><td class="px-4 py-2">每日首次登录</td><td class="px-4 py-2 text-right">+ 2 积分</td></tr>
                                <tr class="bg-gray-50"><td class="px-4 py-2 font-medium">智能体被调用</td><td class="px-4 py-2">每次成功调用</td><td class="px-4 py-2 text-right">+ 1 积分</td></tr>
                                <tr><td class="px-4 py-2 font-medium">成功邀请新用户</td><td class="px-4 py-2">被邀请人完成首充</td><td class="px-4 py-2 text-right">+ 100 积分</td></tr>
                            </tbody>
                        </table>
                    </div>
                     <div class="mt-4 bg-blue-50 border border-blue-200 text-blue-800 rounded-lg p-3 text-sm flex items-start">
                        <i class="fas fa-cogs mr-3 mt-1 text-blue-500"></i>
                        <div><span class="font-semibold">功能开发中:</span> 此处的积分增加规则为功能示例，自动化的奖励系统正在开发中，敬请期待！</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 积分充值弹窗 -->
    <div id="recharge-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-lg w-full p-6 animate-slide-up custom-scrollbar" style="max-height: 90vh; overflow-y: auto;">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold text-gray-900">积分充值</h3>
                <button id="close-recharge-modal" class="p-2 -mr-2 text-gray-500 hover:bg-gray-100 rounded-full focus:outline-none">&times;</button>
            </div>
            <p class="text-sm text-gray-600 mb-6">选择一个充值包，为您的账户补充积分。</p>
            <div id="recharge-packages" class="grid grid-cols-2 gap-4 mb-6">
                <div class="recharge-package border-2 border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-primary-500" data-points="1000" data-price="10"><div class="text-2xl font-bold text-primary-600">1,000</div><div class="text-sm text-gray-500 mb-2">积分</div><div class="font-semibold">¥ 10</div></div>
                <div class="recharge-package border-2 border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-primary-500 relative" data-points="5500" data-price="50"><span class="absolute -top-3 right-2 bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-0.5 rounded-full">赠10%</span><div class="text-2xl font-bold text-primary-600">5,500</div><div class="text-sm text-gray-500 mb-2">积分</div><div class="font-semibold">¥ 50</div></div>
                <div class="recharge-package border-2 border-primary-500 bg-primary-50 rounded-lg p-4 text-center cursor-pointer relative" data-points="12000" data-price="100"><span class="absolute -top-3 right-2 bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-0.5 rounded-full">赠20%</span><div class="text-2xl font-bold text-primary-600">12,000</div><div class="text-sm text-gray-500 mb-2">积分</div><div class="font-semibold">¥ 100</div></div>
                <div class="recharge-package border-2 border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-primary-500 relative" data-points="65000" data-price="500"><span class="absolute -top-3 right-2 bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-0.5 rounded-full">赠30%</span><div class="text-2xl font-bold text-primary-600">65,000</div><div class="text-sm text-gray-500 mb-2">积分</div><div class="font-semibold">¥ 500</div></div>
            </div>
            <div class="border-t pt-4">
                 <div class="flex justify-between items-center mb-4">
                    <span class="text-sm text-gray-600">支付金额</span>
                    <span id="recharge-amount" class="text-xl font-bold text-red-600">¥ 100</span>
                </div>
                <button id="confirm-recharge" class="w-full bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-3 rounded-lg font-medium hover:from-green-600 hover:to-green-700 transition-all">确认支付</button>
            </div>
        </div>
    </div>

    <!-- 续费弹窗 -->
    <div id="renew-modal" class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-md w-full p-8 transform scale-95 transition-all">
            <div class="text-center mb-6">
                <h3 class="text-xl font-bold text-slate-900">续费企业版订阅</h3>
                <p class="text-sm text-slate-500 mt-2">延长您的订阅期限，继续享受所有顶级权益。</p>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-slate-700 mb-2">选择续费周期</label>
                    <div class="grid grid-cols-2 gap-3">
                        <button class="renew-cycle-btn border-2 border-slate-200 text-slate-600 p-3 rounded-xl data-[state=active]:border-primary-500 data-[state=active]:bg-primary-50 data-[state=active]:text-primary-700" data-cycle="monthly" data-price="999">
                            按月续费
                            <span class="block text-xs font-bold">¥999</span>
                        </button>
                        <button class="renew-cycle-btn border-2 border-slate-200 text-slate-600 p-3 rounded-xl data-[state=active]:border-primary-500 data-[state=active]:bg-primary-50 data-[state=active]:text-primary-700" data-cycle="yearly" data-price="9990" data-state="active">
                            按年续费
                            <span class="block text-xs font-bold">¥9,990</span>
                            </button>
                        </div>
                </div>

                <div class="bg-slate-50 rounded-lg p-4">
                    <div class="flex justify-between items-center">
                        <span class="font-medium text-slate-800">应付金额</span>
                        <span class="text-2xl font-bold text-primary-600" id="renew-amount">¥9,990</span>
                    </div>
                </div>
            </div>
            
            <div class="mt-8 flex space-x-4">
                <button id="cancel-renew" class="flex-1 py-3 border border-slate-300 rounded-lg font-semibold hover:bg-slate-100 transition-colors">取消</button>
                <button id="confirm-renew" class="flex-1 bg-primary-600 text-white py-3 rounded-lg font-semibold hover:bg-primary-700 transition-colors">确认支付</button>
            </div>
        </div>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', () => {
            const tenantBenefitsBtn = document.getElementById('tenant-benefits-btn');
        const tenantBenefitsPage = document.getElementById('tenant-benefits-page');
            const closeBenefitsBtn = document.getElementById('close-benefits-btn');
            const userMenuBtn = document.getElementById('user-menu-btn');
            const userDropdown = document.getElementById('user-dropdown');
        const tabBtns = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');
        
        // 新增续费流程相关元素
        const renewBtn = document.getElementById('renew-subscription-btn');
        const renewModal = document.getElementById('renew-modal');
        const cancelRenewBtn = document.getElementById('cancel-renew');
        const confirmRenewBtn = document.getElementById('confirm-renew');
        const renewCycleBtns = document.querySelectorAll('.renew-cycle-btn');
        const renewAmountEl = document.getElementById('renew-amount');

        // 用户菜单
        userMenuBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                userDropdown.classList.toggle('hidden');
        });
        document.addEventListener('click', () => userDropdown.classList.add('hidden'));

        // 打开/关闭权益页面
        tenantBenefitsBtn.addEventListener('click', () => {
            tenantBenefitsPage.classList.remove('hidden');
            document.body.classList.add('modal-open');
        });
        closeBenefitsBtn.addEventListener('click', () => {
            tenantBenefitsPage.classList.add('hidden');
            document.body.classList.remove('modal-open');
        });

        // Tab切换
        tabBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                tabBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                tabContents.forEach(content => {
                    content.classList.add('hidden');
                });
                document.getElementById(btn.dataset.tab + '-content').classList.remove('hidden');
            });
        });
        
        // 弹窗交互 (假定HTML已添加)
        const billingRulesBtn = document.getElementById('billing-rules-btn');
        const rechargeBtn = document.getElementById('recharge-btn');
        
        billingRulesBtn?.addEventListener('click', () => {
            // 此处应为显示计费规则弹窗的逻辑
            alert('打开计费规则弹窗');
        });
        
        rechargeBtn?.addEventListener('click', () => {
            // 此处应为显示充值弹窗的逻辑
            alert('打开积分充值弹窗');
        });

        // --- 新增：续费流程交互 ---
        const showRenewModal = () => {
            renewModal.classList.remove('hidden');
            document.body.classList.add('modal-open');
            // Animate in
            setTimeout(() => renewModal.querySelector('.transform').classList.remove('scale-95'), 10);
        };

        const hideRenewModal = () => {
            renewModal.querySelector('.transform').classList.add('scale-95')
            setTimeout(() => {
                renewModal.classList.add('hidden');
                document.body.classList.remove('modal-open');
            }, 200);
        };

        renewBtn?.addEventListener('click', showRenewModal);
        cancelRenewBtn?.addEventListener('click', hideRenewModal);
        confirmRenewBtn?.addEventListener('click', () => {
            alert('正在处理续费...');
            hideRenewModal();
        });

        renewCycleBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                renewCycleBtns.forEach(b => b.dataset.state = 'inactive');
                btn.dataset.state = 'active';
                renewAmountEl.textContent = `¥${btn.dataset.price}`;
            });
        });

        // --- 弹窗交互 ---
        const showModal = (modal) => {
            modal.classList.remove('hidden');
            setTimeout(() => modal.querySelector('.transform')?.classList.remove('scale-95'), 10);
        };
        const hideModal = (modal) => {
            modal.querySelector('.transform')?.classList.add('scale-95');
            setTimeout(() => modal.classList.add('hidden'), 200);
        };
        
        billingRulesBtn?.addEventListener('click', () => showModal(billingRulesModal));
        closeRulesModal?.addEventListener('click', () => hideModal(billingRulesModal));
        billingRulesModal?.addEventListener('click', (e) => { if (e.target === billingRulesModal) hideModal(billingRulesModal); });

        const rulesTabs = document.querySelectorAll('.rules-tab');
        rulesTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                rulesTabs.forEach(t => {
                    t.classList.remove('text-primary-600', 'border-primary-600');
                    t.classList.add('text-slate-500', 'border-transparent');
                });
                tab.classList.add('text-primary-600', 'border-primary-600');
                document.querySelectorAll('.rules-tab-content').forEach(c => c.classList.add('hidden'));
                document.getElementById(tab.dataset.tab + '-rules-content').classList.remove('hidden');
            });
        });
        
        rechargeBtn?.addEventListener('click', () => showModal(rechargeModal));
        closeRechargeModal?.addEventListener('click', () => hideModal(rechargeModal));
        rechargeModal?.addEventListener('click', (e) => { if (e.target === rechargeModal) hideModal(rechargeModal); });

        const rechargePackages = document.querySelectorAll('.recharge-package');
        rechargePackages.forEach(pkg => {
            pkg.addEventListener('click', () => {
                rechargePackages.forEach(p => p.classList.remove('border-primary-500', 'bg-primary-50'));
                pkg.classList.add('border-primary-500', 'bg-primary-50');
                document.getElementById('recharge-amount').textContent = `¥ ${pkg.dataset.price}`;
            });
        });

        document.getElementById('confirm-recharge')?.addEventListener('click', () => {
            alert('正在处理充值...');
            hideModal(rechargeModal);
            });
        });
    </script>

</body>
</html>
