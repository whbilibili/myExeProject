权限模型优化方案

本权限模型旨在通过简化角色体系、明确权限授予逻辑，提升系统的易用性、可管理性和安全性。除了下文提到的改动外，本权限体系的其他逻辑维持不变。核心方案阐述如下：

一、核心原则：固定角色体系

为简化管理并确保权限逻辑的一致性，系统将移除自定义角色功能，全面采用固定的、预定义的角色体系。

二、权限角色体系与核心权责

系统在“空间”、“应用”、“表格/仪表盘”这三个核心资源维度上，统一设置以下四种固定角色。这些角色按权限级别高低排序，高级别角色的权限将覆盖低级别角色的权限。当用户访问统一资源存在角色冲突时（个人和组织层面的角色冲突），以最高级别角色的权限为准。

所有者 (Owner)：

定义：资源的创建者，自动获得此角色。

权限：拥有对资源的全部操作权限，包括删除资源。

特性：所有者身份不可被其他任何用户移除或更改。

管理员 (Admin)：

定义：由所有者或其他管理员添加。

权限：拥有除删除资源外的所有管理权限。

可编辑 (Editor)：

定义：由所有者或管理员添加。

权限：拥有资源的编辑权限，例如修改内容、配置等。

可评论（Commenter）：可查看使用资源，并且能够在表格中进行评论。

查看与使用 (Viewer)：

定义：由所有者或管理员添加。

权限：仅拥有对资源的查看权限，例如在表格中无法添加评论。

无权限：无权限不是一种角色，是用户没有任何权限角色的中间态。

层级

角色

所有者

管理员

可编辑

可评论

查看与使用

空间

查看与使用

空间查看

空间下创建应用

编辑与管理

空间编辑（名称、描述、头像）

管理空间成员（角色权限、组织成员管理）

空间删除

查看与使用

空间查看

空间下创建应用

编辑与管理

空间编辑（名称、描述、头像）

管理空间成员（角色权限、组织成员管理）

空间删除

查看与使用

空间查看

空间下创建应用

编辑与管理

空间编辑（名称、描述、头像）

管理空间成员（角色权限、组织成员管理）

空间删除

查看与使用

空间查看

空间下创建应用

编辑与管理

空间编辑（名称、描述、头像）

管理空间成员（角色权限、组织成员管理）

空间删除

查看与使用

空间查看

空间下创建应用

编辑与管理

空间编辑（名称、描述、头像）

管理空间成员（角色权限、组织成员管理）

空间删除

应用

查看与使用

查看应用（查看、收藏）

创建并管理分组

应用下创建表（新建空白表、从模板创建、导入数据）

应用下创建仪表盘

AI智能助手设置

编辑与管理

编辑应用（名称、描述）

管理应用成员

将应用/分组保存为模板

复制应用

删除应用

管理数据源

分组和表格相关

移动排序

查看表关系

查看与使用

查看应用（查看、收藏）

创建并管理分组

应用下创建表（新建空白表、从模板创建、导入数据）

应用下创建仪表盘

AI智能助手设置

编辑与管理

编辑应用（名称、描述）

管理应用成员

将应用/分组保存为模板

复制应用

删除应用

管理数据源

分组和表格相关

移动排序

查看表关系

查看与使用

查看应用（查看、收藏）

创建并管理分组

应用下创建表（新建空白表、从模板创建、导入数据）

应用下创建仪表盘

AI智能助手设置

编辑与管理

编辑应用（名称、描述）

管理应用成员

将应用/分组保存为模板

复制应用

删除应用

管理数据源

分组和表格相关

移动排序

查看表关系

查看与使用

查看应用（查看、收藏）

创建并管理分组

应用下创建表（新建空白表、从模板创建、导入数据）

应用下创建仪表盘

AI智能助手设置

编辑与管理

编辑应用（名称、描述）

管理应用成员

将应用/分组保存为模板

复制应用

删除应用

管理数据源

分组和表格相关

移动排序

查看表关系

查看与使用

查看应用（查看、收藏）

创建并管理分组

应用下创建表（新建空白表、从模板创建、导入数据）

应用下创建仪表盘

AI智能助手设置

编辑与管理

编辑应用（名称、描述）

管理应用成员

将应用/分组保存为模板

复制应用

删除应用

管理数据源

分组和表格相关

移动排序

查看表关系

表

表相关

查看表

编辑表

删除表

复制表

导出表

创建字段

新增记录

管理表成员

保存为模版

创建并管理视图

字段相关

编辑所有字段

删除所有字段

记录相关

编辑所有记录

删除所有记录

添加评论

表相关

查看表

编辑表

删除表

复制表

导出表

创建字段

新增记录

管理表成员

保存为模版

创建并管理视图

字段相关

编辑所有字段

删除所有字段

记录相关

编辑所有记录

删除所有记录

添加评论

表相关

查看表

编辑表

删除表

复制表

导出表

创建字段

新增记录

管理表成员

保存为模版

创建并管理视图

字段相关

编辑所有字段

删除所有字段

记录相关

编辑所有记录

删除所有记录

添加评论

表相关

查看表

编辑表

删除表

复制表

导出表

创建字段

新增记录

管理表成员

保存为模版

创建并管理视图

字段相关

编辑所有字段

删除所有字段

记录相关

编辑所有记录

删除所有记录

添加评论

表相关

查看表

编辑表

删除表

复制表

导出表

创建字段

新增记录

管理表成员

保存为模版

创建并管理视图

字段相关

编辑所有字段

删除所有字段

记录相关

编辑所有记录

删除所有记录

添加评论

仪表盘

查看与使用

查看仪表盘

管理

管理仪表盘

查看与使用

查看仪表盘

管理

管理仪表盘

查看与使用

查看仪表盘

管理

管理仪表盘

查看与使用

查看仪表盘

管理

管理仪表盘

查看与使用

查看仪表盘

管理

管理仪表盘

三、所有者规则与权限传递

创建者即所有者：

任何资源的创建者将自动成为该资源的【所有者】。

创建者的【所有者】身份不可被其他管理员移除，其权限亦不可被其他管理员更改。这意味着【所有者】始终保有对其创建资源的最高控制权。

其他管理员：

除创建者（即所有者）外，一个资源可以拥有多名由所有者或其他现有管理员添加的【管理员】。

这些非创建者的【管理员】之间级别相同，可以互相移除（所有者除外）。

所有者的权限传递：

上级资源的【所有者】将自动成为其下级资源的【管理员】。例如，某“空间”的【所有者】默认也是该空间内所有“应用”的【管理员】。这是一个明确的权限指派规则，而非普适性的隐式继承。

四、权限冲突解决机制

当用户通过不同途径（例如，个人被直接授予权限，同时其所在的用户组也被授予针对同一资源的权限）获得多个角色时，系统将遵循“取最高权限”的原则。

权限优先级排序：【所有者】> 【管理员】 > 【可编辑】 > 【可评论】>【查看与使用】。

注：“组织”在此上下文中通常指代“用户组”或“部门”。

五、后续规划与功能增强

当前权限模型强调显式授权，简化了复杂的自上而下隐式权限继承。为满足在特定场景下对多个资源进行统一、高效授权的需求，后续计划引入【批量授权】机制。

批量授权设想：例如，允许管理员选择某个应用下的多张表格（如上百张），一次性将这些表格以特定角色（如【可编辑】或【查看与使用】）共享给指定用户或用户组。这将显著提升大规模授权的操作效率，并补充当前精细化权限管理的场景。