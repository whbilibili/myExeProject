"App市场" 功能产品方案 



UI稿

https://imd.sankuai.com/goto/KmGbdtlX?page_id=M&file=163281663607752 邀请您进入《设备市场》，点击链接开始协作

1. 项目概述

本文档旨在详细描述 Bots 平台 "App市场" 功能的当前实现。该功能为平台用户提供一个发现官方管理的应用以及贡献自己应用包的界面与机制。这些应用包主要服务于 Bots 平台的工作流构建。

2. 功能目标

统一的应用发现平台: 提供 "App市场" 作为集中展示所有官方管理的应用（包含司内来源和司外来源）。

用户包贡献与审批流程: 允许用户通过 "我上传的包" 标签页上传用户自己要用的包，这些包将经过审批流程后才可能被使用。

清晰的版本与环境管理: 确保每个包拥有清晰的版本号唯一的下载链接（使用入口）。

简化的用户交互: 用户主要角色是发现应用和上传独立的包，应用本身的创建和市场管理由管理员负责。

3. 核心概念与术语

App市场 (App Market):

平台的主标签页，用于展示所有由管理员维护的应用。

应用 (Application):

代表一个具有特定功能的应用。

属性 (对用户可见):

应用名称 (AppName): 清晰表明应用功能，可能包含平台指示。

应用图标 (AppIcon): 应用的视觉标识。

平台类型 (PlatformType): 如 Android, iOS。

最新版本 (LatestVersion): 该应用下最新包的版本号。

最近更新 (LastUpdateTime): 该应用下最新包的上传时间。

应用本身由管理员创建和管理，用户不能在前端直接创建或编辑 "App市场" 中的应用。

我上传的包 (My Uploaded Packages):

用户专属的标签页，用于上传和管理用户自己贡献的独立应用包。

包 (Package):

用户贡献的、等待审批的应用包。

属性:

应用名称：系统自动识别

版本号：系统自动识别

包类型：正式包或内测包，需要手动选择

系统：安卓、IOS，系统识别

包ID：系统自动识别

下载链接：系统自动生成，提供一键复制

上传时间：包的上传时间

状态 (Status): 包的审批状态（待审批、已批准、已拒绝）。

4. 功能模块详述

4.1. 主界面与导航

tab标题: "App市场"

标签页 (Tabs):

App市场 (App Market): 默认选中的标签页。以卡片视图展示官方管理的所有应用。

我上传的包 (My Uploaded Packages): 以列表视图展示当前用户上传的包及其状态。

4.2. "App市场 (App Market)" 标签页

此区域展示所有官方管理的应用。

4.2.1. 应用列表视图 (Application Card View):

展示内容: 以卡片形式展示所有应用。

卡片展示信息:

应用图标 (AppIcon)

应用名称 (AppName)

平台类型 (PlatformType) - 以标签形式展示：安卓或IOS。

最新版本 (LatestVersion)：最大的版本号

最近更新 (LastUpdateTime)

卡片操作:

点击卡片区域，跳转至该应用的包列表详情页 (见 4.2.2)。

筛选：

搜索框：用户可按应用名称关键词进行搜索。

按系统类型筛选：Android、IOS

用户权限: 用户在此页面不能创建新应用、编辑应用信息或删除应用。这些操作由管理员执行。

4.2.2. 应用包详情页 (Package Details Page - 查看App市场应用的包):

当用户从 "App市场" 点击某个应用卡片后进入此页面。

页面结构与功能:

顶部区域：面包屑的样式，支持退回至应用列表。其中应用名称需要体现其系统类型。如：App市场/美团（IOS）

包搜索: 仅针对当前应用下包列表的搜索框。用户可按版本号进行关键词搜索。

包列表 (Package List):按上传时间倒序排序

以表格形式展示该应用下的所有包。

列表展示字段:

版本号 (Version)

下载链接 (提供一键复制)

上传时间 (UploadTime)

操作 (Actions) 列:

下载

4.3. "我上传的包 (My Uploaded Packages)" 标签页

此区域允许用户贡献独立的包，并管理其上传的包。

4.3.1. 包列表视图 (Package List View):

顶部操作:

搜索框 ：应用名称、包名称、版本号、包ID等进行关键词搜索。

[+] 上传新包 按钮: 点击后打开 "上传新包" 弹窗 (4.3.2)。

列表展示字段:

应用名称：系统自动识别

版本号：系统自动识别

包类型：正式包或内测包，需要用户手动选择

系统：安卓、IOS

包ID：系统自动生成

下载链接：系统自动生成

上传时间：包的上传时间

状态 (Status): 包的审批状态（待审批、已批准、已拒绝）

操作 (Actions) 列:

下载

编辑: 只可以编辑：包描述和包类型，点击打开 "编辑包信息" 弹窗 (4.3.3)

删除: 操作需二次确认

交互特性: 列表默认按上传时间倒序排序。

4.3.2. "上传新包" 弹窗 (用于 "我上传的包"):

标题: "上传新包"

表单字段:

上传包：此处提供两种方式，用户可以直接上传一个附件，或者提供一个URL链接。系统拿到附件或者链接，即可识别到相关字段。

包类型：内测包、正式包（用户手动选择）

包描述：非必填，用户填写

提交操作: "确认上传"。

系统行为:

状态默认为 待审批。后台审批后，状态变更为：已批准或已拒绝

自动生成解析包并生成其他字段，展示在列表中。

4.3.3. "编辑包信息" 弹窗 (用于 "我上传的包"):

触发: 在 "我上传的包" 列表中，对状态为 "待审批" 或 "已拒绝" 的包点击 "编辑"。

标题: "编辑包信息"

表单字段：只展示包描述、包类型。并回填已经填写的信息

提交操作: "保存更改"。

系统行为:

更新对应包的信息。

5. 核心权限与管理逻辑

App (应用) 创建与管理:

所有在 "App市场" 中展示的应用（包括 "司内来源" 和 "司外来源"）均由管理员在后台创建和统一管理。

普通用户不能通过前端界面创建、编辑或删除 "App市场" 中的应用。

Package (包) 上传与管理:

用户贡献: 用户通过 "我上传的包" 标签页上传新的独立的包。这些包在上传后进入 "待审批" 状态。

审批流程: 上传的包需要管理员在后台进行审批。审批结果可以是 "已批准" 或 "已拒绝"。

"已批准" 的包后续通过PackageURL进行使用。

用户管理权限:

用户可以编辑或删除自己上传的包。

用户不能管理或修改 "App市场" 中展示的应用下的任何包。






